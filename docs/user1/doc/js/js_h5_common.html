<!DOCTYPE html>
<html><head><meta http-equiv='Content-Type' content='text/html; charset=utf8'><title>js h5 common</title><script src='../res/util.js'></script><link rel='stylesheet' type='text/css' href='../res/common.css'><style>.s0{color:#0000ff;}
.s1{color:#000000;}
.s2{color:#000000;}
.s3{color:#0000ff;}
.s4{color:#000000;}
.s5{color:#c80000;}
.s6{color:#660e7a;}
.s7{color:#000000;}
.s8{color:#7a7a43;}
.s9{color:#008000;}
.s10{color:#c80000;}
.s11{color:#c80000;}
.s12{color:#c80000;}
.s13{color:#0000ff;}
.s14{color:#000000;}
.s15{color:#c80000;}
</style></head><body>
<div id='outline'>
<li><a href='#ol_0' style='font-weight:bold; font-size:22px'>js h5 common</a></li>
<li> <a href='#ol_1' >动态DOM节点op</a></li>
<li> <a href='#ol_2' >dom visit.</a></li>
<li> <a href='#ol_3' >load js/css dynamic 动态</a></li>
<li> <a href='#ol_4' >table</a></li>
</div>

<t id='5eda72b7-c314-4abe-b2ef-2d8923269c2a'>
<pre><d class='s0'><br/><font size=8>js h5 common</font>
</d><d class='s0'></d></pre>
<pre><d class='s1'>js h5 common</d></pre>
<pre><d class='s2'></d></pre>
<t id='9430a432-2291-4784-966a-03d0270e9f9d'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s3'><h1 id='ol_1'>动态DOM节点op</h1>
<a href='js_h5_common.html#03c11ffb-af75-4795-a6e5-fd0a35390204'>table </a></d><d class='s4'></d></pre>
<pre><d class='s1'><a href='js_h5_common.html#7e38749e-4362-408d-acd5-701c099d5141'>load js/css dynamic 动态 </a></d></pre>
<pre><d class='s1'><a href='sqlite_locate_failed!'>jQuery - 添加元素 DOM op add </a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s1'>var para=document.createElement("p");</d></pre>
<pre><d class='s1'>var node=document.createTextNode("This is new.");</d></pre>
<pre><d class='s1'>parent.removeChild(child);</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s5'>iframe 动态创建 dynamic create</d><d class='s2'></d></pre>
<pre><d class='s6'>iframe </d><d class='s7'>= </d><d class='s6'>document</d><d class='s7'>.</d><d class='s8'>createElement</d><d class='s7'>(</d><d class='s9'>"iframe"</d><d class='s7'>);</d></pre>
<pre><d class='s6'>document</d><d class='s7'>.</d><d class='s6'>body</d><d class='s7'>.</d><d class='s8'>appendChild</d><d class='s7'>(</d><d class='s6'>iframe</d><d class='s7'>);</d></pre>
<pre><d class='s6'>iframe</d><d class='s7'>.</d><d class='s6'>outerHTML </d><d class='s7'>= </d><d class='s9'>'&lt;iframe id="iframe_tmp" onload="iframe_loaded();" style="width: 100%; height: 100%" security="restricted" sandbox="allow-same-origin"&gt;&lt;/iframe&gt;'</d><d class='s7'>;</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s2'>            for (var k in urls) {</d></pre>
<pre><d class='s2'>                var url = "http://localhost:811/index.php/http_utils/get?url=" + encodeURIComponent(urls[k]);</d></pre>
<pre><d class='s2'>                var iframe = '&lt;iframe src="' + url + '" width=100% height=400px&gt;&lt;/iframe&gt;';</d></pre>
<pre><d class='s2'>                $("body").append("&lt;p&gt;" + urls[k] + "&lt;/p&gt;", iframe);</d></pre>
<pre><d class='s1'></d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<pre><d class='s3'><h1 id='ol_2'>dom visit.</h1>
</d><d class='s1'></d></pre>
<pre><d class='s1'>var html = document.firstChild</d></pre>
<pre><d class='s1'>console.log(".." + html);</d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s1'>var head = html.firstChild</d></pre>
<pre><d class='s1'>console.log(head)</d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s1'>head.firstChild</d></pre>
<pre><d class='s1'>head.lastChlid</d></pre>
<pre><d class='s1'></d></pre>
<t id='7e38749e-4362-408d-acd5-701c099d5141'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s3'><h1 id='ol_3'>load js/css dynamic 动态</h1>
</d><d class='s10'>importScripts 用于worker？</d></pre>
<pre><d class='s1'><a href='js_h5_common.html#9430a432-2291-4784-966a-03d0270e9f9d'>动态DOM节点op </a></d></pre>
<pre><d class='s1'><a href='sqlite_locate_failed!'>digger new using snippet </a></d></pre>
<pre><d class='s1'><a href='js_h5.html#4370a4e8-2dd3-486d-9428-bb40f9ebd26c'>load </a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s1'><a href='http://a.fe.my/tests_w3c/dynamic_load.html'>http://a.fe.my/tests_w3c/dynamic_load.html</a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s1'>如何动态加载JS脚本</d></pre>
<pre><d class='s1'><a href='http://blog.csdn.net/jiedushi/article/details/2212208'>http://blog.csdn.net/jiedushi/article/details/2212208</a></d></pre>
<pre><d class='s1'><a href='http://www.cnblogs.com/lkf18/archive/2012/05/24/2515935.html'>http://www.cnblogs.com/lkf18/archive/2012/05/24/2515935.html</a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s11'>添加&lt;script&gt;节点的问题：</d></pre>
<pre><d class='s12'>$("&lt;scri" + "pt&gt;" + "&lt;/scr" + "ipt&gt;").attr</d><d class='s10'></d></pre>
<pre><d class='s13'></d></pre>
<pre><d class='s14'>X:\work\pijs\pi\html.js</d></pre>
<pre><d class='s10'>注意，chrome，ff中node没有onreadystatechange(document才有)，都是用的onload</d><d class='s14'></d></pre>
<pre><d class='s14'>	load = function(doc, head, url, charset, isCss, callback) {</d></pre>
<pre><d class='s14'>		var node = doc.createElement(isCss ? 'link': 'script');</d></pre>
<pre><d class='s14'>		node.charset = charset;</d></pre>
<pre><d class='s14'>		node.readyState = undefined;</d></pre>
<pre><d class='s14'>		node.onerror = function() {</d></pre>
<pre><d class='s14'>			node.onload = node.onerror = node.onreadystatechange = undefined;</d></pre>
<pre><d class='s14'>			head.removeChild(node);</d></pre>
<pre><d class='s14'>			callback(false);</d></pre>
<pre><d class='s14'>		};</d></pre>
<pre><d class='s14'>		node.onload = node.onreadystatechange = function() {</d></pre>
<pre><d class='s14'>			/*if (node.</d><d class='s15'>readyState</d><d class='s14'> === 'loaded' ||</d></pre>
<pre><d class='s14'>				node.readyState === 'complete' ||</d></pre>
<pre><d class='s14'>				node.readyState === undefined) {</d></pre>
<pre><d class='s14'>			};*/</d></pre>
<pre><d class='s14'>			// Ensure only run once and handle memory leak in IE</d></pre>
<pre><d class='s14'>			node.onload = node.onerror = node.onreadystatechange = undefined;</d></pre>
<pre><d class='s14'>			// Remove the script to reduce memory leak</d></pre>
<pre><d class='s14'>			if (!isCss) {</d></pre>
<pre><d class='s14'>				head.</d><d class='s15'>removeChild</d><d class='s14'>(node);</d></pre>
<pre><d class='s14'>			}</d></pre>
<pre><d class='s14'>			callback(true);</d></pre>
<pre><d class='s14'>		};</d></pre>
<pre><d class='s14'>		if (isCss) {</d></pre>
<pre><d class='s14'>			node.rel = 'stylesheet';</d></pre>
<pre><d class='s14'>			node.href = url;</d></pre>
<pre><d class='s14'>		} else {</d></pre>
<pre><d class='s14'>			node.</d><d class='s15'>async</d><d class='s14'> = true;</d></pre>
<pre><d class='s14'>			node.src = url;</d></pre>
<pre><d class='s14'>		}</d></pre>
<pre><d class='s14'>		head.appendChild(node);</d></pre>
<pre><d class='s14'>	};</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s11'>use: X:\sh\html\doc\res\util.js</d></pre>
<pre><d class='s3'></d></pre>
</t>
<pre><d class='s0'></d></pre>
<t id='03c11ffb-af75-4795-a6e5-fd0a35390204'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s3'><h1 id='ol_4'>table</h1>
<a href='js_h5_common.html#9430a432-2291-4784-966a-03d0270e9f9d'>动态DOM节点op </a></d><d class='s1'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s4'>X:/fe/tests_w3c\table_test.html</d></pre>
<pre><d class='s4'></d></pre>
<pre><d class='s4'>thead.outerWidth() 宽度</d></pre>
<pre><d class='s1'></d></pre>
</t>
<pre><d class='s0'></d></pre>
</body></html>
