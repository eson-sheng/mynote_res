<!DOCTYPE html>
<html><head><meta http-equiv='Content-Type' content='text/html; charset=utf8'><title>apache sum</title><script src='res/util.js'></script><link rel='stylesheet' type='text/css' href='res/common.css'><style>.s0{color:#0000ff;}
.s1{color:#0000ff;}
.s2{color:#000000;}
.s3{color:#000000;}
.s4{color:#c80000;}
.s5{color:#000000;}
.s6{color:#c80000;}
.s7{color:#000000;}
.s8{color:#c80000;}
.s9{color:#0000ff;}
.s10{color:#000000;}
.s11{color:#000000;}
.s12{color:#000000;}
.s13{color:#000000;}
</style></head><body>
<div id='outline'>
<li><a href='#ol_0' style='font-weight:bold; font-size:22px'>apache sum</a></li>
<li> <a href='#ol_1' >apache install/download</a></li>
<li> <a href='#ol_2' >apache jh clt</a></li>
<li> <a href='#ol_3' >apache configs</a></li>
<li> <a href='#ol_4' >apache alias rewrite</a></li>
<li> <a href='#ol_5' >apache rewrite</a></li>
<li>  <a href='#ol_6' >ERR_TOO_MANY_REDIRECTS</a></li>
<li>  <a href='#ol_7' >RewriteCond</a></li>
<li> <a href='#ol_8' >apache不以service形式启动</a></li>
<li> <a href='#ol_9' >apache以service形式启动</a></li>
<li> <a href='#ol_10' >apache http server &amp;&amp; tomcat</a></li>
<li> <a href='#ol_11' >apache php 整合；调试 debug</a></li>
<li> <a href='#ol_12' >apache如何处理php请求?</a></li>
<li> <a href='#ol_13' >Apache VirtualHost配置</a></li>
<li> <a href='#ol_14' >apache log</a></li>
<li>  <a href='#ol_15' >ErrorLog</a></li>
<li> <a href='#ol_16' >apache 关闭 shutdown</a></li>
</div>

<t id='09f2ad75-a783-40b2-b491-4b54f5dbe338'>
<pre><d class='s0'><br/><font size=8>apache sum</font>
</d><d class='s0'></d></pre>
<pre><d class='s1'>apache sum</d></pre>
<pre><d class='s2'>〖E:\software\programming\apache_httpd〗</d></pre>
<pre><d class='s3'><a href='xampp.html#7677ff9f-36d1-4159-b4d7-66fa9a9ec363'>XAMPP </a></d></pre>
<pre><d class='s3'><a href='zentao.html#0d2536ee-35e0-4e9f-8156-9c40f98471bb'>zentao sum </a></d></pre>
<pre><d class='s3'>〖D:\Apache24_test〗</d></pre>
<pre><d class='s3'><a href='http://httpd.apache.org/docs/2.4/en/'>http://httpd.apache.org/docs/2.4/en/</a></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>Directive Index</d></pre>
<pre><d class='s3'><a href='http://httpd.apache.org/docs/2.4/en/mod/directives.html'>http://httpd.apache.org/docs/2.4/en/mod/directives.html</a></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>C:\Users\Administrator\Desktop\xampp\apache\bin&gt;</d><d class='s4'>httpd -h</d><d class='s3'></d></pre>
<pre><d class='s3'>Usage: httpd [-D name] [-d directory] [-f file]</d></pre>
<pre><d class='s3'>             [-C "directive"] [-c "directive"]</d></pre>
<pre><d class='s3'>             [-w] [-k start|restart|stop|shutdown] [-n service_name]</d></pre>
<pre><d class='s3'>             [-k install|config|uninstall] [-n service_name]</d></pre>
<pre><d class='s3'>             [-v] [-V] [-h] [-l] [-L] [-t] [-T] [-S] [-X]</d></pre>
<pre><d class='s3'>Options:</d></pre>
<pre><d class='s3'>  -D name            : define a name for use in &lt;IfDefine name&gt; directives</d></pre>
<pre><d class='s5'>  </d><d class='s6'>-d directory       : specify an alternate initial ServerRoot</d><d class='s5'></d></pre>
<pre><d class='s5'>  </d><d class='s6'>-f file            : specify an alternate ServerConfigFile</d><d class='s3'></d></pre>
<pre><d class='s3'>  -C "directive"     : process directive before reading config files</d></pre>
<pre><d class='s3'>  -c "directive"     : process directive after reading config files</d></pre>
<pre><d class='s3'>  </d><d class='s4'>-n name            : set service name </d><d class='s3'>and use its ServerConfigFile and ServerRoot</d></pre>
<pre><d class='s3'>  -k start           : tell Apache to start</d></pre>
<pre><d class='s3'>  -k restart         : tell running Apache to do a graceful restart</d></pre>
<pre><d class='s3'>  -k stop|shutdown   : tell running Apache to shutdown</d></pre>
<pre><d class='s3'>  </d><d class='s4'>-k install         </d><d class='s3'>: install an Apache service</d></pre>
<pre><d class='s3'>  -k config          : change startup Options of an Apache service</d></pre>
<pre><d class='s3'>  -k uninstall       : uninstall an Apache service</d></pre>
<pre><d class='s3'>  -w                 : hold open the console window on error</d></pre>
<pre><d class='s3'>  -e level           : show startup errors of level (see LogLevel)</d></pre>
<pre><d class='s3'>  -E file            : log startup errors to file</d></pre>
<pre><d class='s3'>  -v                 : show version number</d></pre>
<pre><d class='s3'>  -V                 : show compile settings</d></pre>
<pre><d class='s3'>  -h                 : list available command line options (this page)</d></pre>
<pre><d class='s3'>  -l                 : list compiled in modules</d></pre>
<pre><d class='s3'>  -L                 : list available configuration directives</d></pre>
<pre><d class='s3'>  -t -D DUMP_VHOSTS  : show parsed vhost settings</d></pre>
<pre><d class='s3'>  -t -D DUMP_RUN_CFG : show parsed run settings</d></pre>
<pre><d class='s3'>  -S                 : a synonym for -t -D DUMP_VHOSTS -D DUMP_RUN_CFG</d></pre>
<pre><d class='s3'>  -t -D DUMP_MODULES : show all loaded modules</d></pre>
<pre><d class='s3'>  -M                 : a synonym for -t -D DUMP_MODULES</d></pre>
<pre><d class='s4'>  -t                 : run syntax check for config files</d></pre>
<pre><d class='s3'>  -T                 : start without DocumentRoot(s) check</d></pre>
<pre><d class='s3'>  -X                 : debug mode (only one worker, do not detach)</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s1'><h1 id='ol_1'>apache install/download</h1>
</d><d class='s7'></d></pre>
<pre><d class='s7'>Downloading Apache for Windows</d></pre>
<pre><d class='s7'><a href='http://httpd.apache.org/docs/2.4/platform/windows.html'>http://httpd.apache.org/docs/2.4/platform/windows.html</a></d></pre>
<pre><d class='s7'>The Apache HTTP Server Project itself does </d><d class='s8'>not</d><d class='s7'> provide binary releases of software, only source code. Individual committers may provide binary packages as a convenience, but it is not a release deliverable.</d></pre>
<pre><d class='s7'>ApacheHaus <a href='http://www.apachehaus.com/cgi-bin/download.plx'>http://www.apachehaus.com/cgi-bin/download.plx</a></d></pre>
<pre><d class='s2'></d></pre>
<t id='cf869f37-d0cb-4f88-989b-9e96b689da84'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s9'><h1 id='ol_2'>apache jh clt</h1>
</d><d class='s7'></d></pre>
<pre><d class='s10'>在系统环境变量PATH中添加;</d><d class='s6'>D:\php;D:\php\ext</d><d class='s10'></d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'>ServerRoot "</d><d class='s6'>D:\Apache24</d><d class='s10'>"</d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'>DocumentRoot "d:/Apache24/htdocs"</d></pre>
<pre><d class='s10'>&lt;Directory "d:/Apache24/htdocs"&gt;</d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'>Listen </d><d class='s6'>80</d><d class='s10'></d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'># php5 support</d></pre>
<pre><d class='s10'>LoadModule php5_module </d><d class='s6'>D:/php/php5apache2_4.dll</d><d class='s10'></d></pre>
<pre><d class='s10'>AddType application/x-httpd-php .php .html .htm</d></pre>
<pre><d class='s10'># configure the path to php.ini</d></pre>
<pre><d class='s10'>PHPIniDir "</d><d class='s6'>D:/php</d><d class='s10'>"</d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'>service:</d></pre>
<pre><d class='s10'>httpd -k install -n </d><d class='s6'>apachexx</d></pre>
<pre><d class='s10'></d></pre>
<pre><d class='s10'>如果存在，则先检查php能否单独正常启动：</d><d class='s7'></d></pre>
<pre><d class='s7'><img src='pic\6685a12203f2679a61243df570ccf5ca.jpg' /></d><d class='s7'></d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s10'>RewriteCond TestString CondPattern [flags]</d></pre>
<pre><d class='s10'>RewriteRule Pattern Substitution [flags]</d><d class='s7'></d></pre>
<pre><d class='s9'></d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<pre><d class='s1'><h1 id='ol_3'>apache configs</h1>
<a href='http://httpd.apache.org/docs/2.4/en/configuring.html'>http://httpd.apache.org/docs/2.4/en/configuring.html</a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s3'><a href='apache.html#94e9ccd9-532b-4899-a2ec-1bffd3a1d21d'>apache php 整合；调试 debug </a></d></pre>
<pre><d class='s4'></d></pre>
<pre><d class='s6'>修改apache 默认doc路径：将conf\httpd.conf里面的两处htdocs全部替换。</d><d class='s4'></d></pre>
<pre><d class='s3'>DocumentRoot "d:/Apache24/htdocs"</d></pre>
<pre><d class='s3'>&lt;Directory "d:/Apache24/htdocs"&gt;</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>ServerRoot "D:/Apache24"</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>可以监听多个端口：</d></pre>
<pre><d class='s3'>Listen 8099</d></pre>
<pre><d class='s3'>Listen 80</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s5'># php5 support</d></pre>
<pre><d class='s5'>LoadModule php5_module D:/php/php5apache2_4.dll</d></pre>
<pre><d class='s5'>AddType application/x-httpd-php .php .html .htm</d></pre>
<pre><d class='s5'># configure the path to php.ini</d></pre>
<pre><d class='s5'>PHPIniDir "D:/php"</d><d class='s3'></d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s5'>conf\extra\httpd-ssl.conf</d><d class='s3'></d></pre>
<pre><d class='s3'>#</d></pre>
<pre><d class='s3'># When we also provide SSL we have to listen to the </d></pre>
<pre><d class='s3'># standard HTTP port (see above) and to the HTTPS port</d></pre>
<pre><d class='s3'>#</d></pre>
<pre><d class='s3'>Listen 443</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>#ServerName www.example.com:80</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>#</d></pre>
<pre><d class='s7'># DirectoryIndex: sets the file that Apache will serve if a directory</d></pre>
<pre><d class='s7'># is requested.</d></pre>
<pre><d class='s7'>#</d></pre>
<pre><d class='s7'>&lt;IfModule dir_module&gt;</d></pre>
<pre><d class='s10'>    </d><d class='s6'>DirectoryIndex index.html index.php</d><d class='s10'></d></pre>
<pre><d class='s7'>&lt;/IfModule&gt;</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s10'>lexicographical</d><d class='s2'> </d></pre>
<pre><d class='s2'></d></pre>
<t id='c879feac-eb8d-4d0c-b236-8f269ae549d2'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s1'><h1 id='ol_4'>apache alias rewrite</h1>
<a href='zentao.html#e8f62e88-d094-4165-b267-933840ab3ab3'>zentao rewrite & route </a></d><d class='s3'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s6'>apache默认root为\htdocs，但可以通过alias修改（rewrite？）：</d><d class='s4'></d></pre>
<pre><d class='s3'>$root\apache\conf\httpd.conf</d></pre>
<pre><d class='s3'># setting for zentaopms.</d></pre>
<pre><d class='s3'>Alias /zentao "C:/Users/Administrator/Desktop/xampp/zentao/www/"</d></pre>
<pre><d class='s3'>&lt;Directory "C:/Users/Administrator/Desktop/xampp/zentao/www"&gt;</d></pre>
<pre><d class='s3'>  Order deny,allow</d></pre>
<pre><d class='s3'>  Allow from all</d></pre>
<pre><d class='s3'>  AllowOverride All</d></pre>
<pre><d class='s3'>  Require all granted</d></pre>
<pre><d class='s3'>&lt;/Directory&gt;</d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<t id='9896ea45-16ca-4251-9047-b69b3dc790ad'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s1'><h1 id='ol_5'>apache rewrite</h1>
</d></pre>
<pre><d class='s7'>Apache Module mod_rewrite</d></pre>
<pre><d class='s7'><a href='http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html'>http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html</a></d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>rewrite 调试：</d></pre>
<pre><d class='s10'>1、LogLevel alert rewrite:trace3</d></pre>
<pre><d class='s10'>2、access.log:</d><d class='s7'></d></pre>
<pre><d class='s7'><img src='pic\ed4e4200dc49c0e4067c19b5a09a3ee9.jpg' /></d><d class='s7'></d></pre>
<pre><d class='s10'>3、fiddler</d><d class='s3'></d></pre>
<pre><d class='s0'></d></pre>
<pre><d class='s0'></d></pre>
<pre><d class='s10'>设为trace8，通过access.log可以看到这些变量究竟是什么，如</d><d class='s11'>HTTP_HOST：</d></pre>
<pre><d class='s0'>RewriteCond: input='localhost:333' pattern='aa' =&gt; not-matched</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>如何调试Apache的URL重写 -- </d><d class='s8'>实验未成功</d><d class='s7'></d></pre>
<pre><d class='s7'><a href='http://blog.sina.com.cn/s/blog_0ca103850102wbws.html'>http://blog.sina.com.cn/s/blog_0ca103850102wbws.html</a></d></pre>
<pre><d class='s7'>Apache的RewriteLog指令只能在conf文件中，不能在.htaccess文件，所以必须具有root用户权限，并且修改后需要重启apache，对调试代理复杂性。</d></pre>
<pre><d class='s7'>默认的日志位置 /var/log/httpd 也只能有root用户才能访问。</d></pre>
<pre><d class='s7'>由于一次刷新网页的请求很多（如很多图片、js的请求），导致日志文件比较凌乱，查看也比较困难。</d></pre>
<pre><d class='s7'>笔者在Drupal论坛里偶然发现一个比较特殊的方法，这种方法调试Apache URL Rewrite比较简单，此方法只需要在.</d><d class='s8'>htaccess</d><d class='s7'>即可完成调试。</d></pre>
<pre><d class='s7'>RewriteRule (.*) <a href='http://www.baidu.com/?host=%'>http://www.baidu.com/?host=%</a>{HTTP_HOST},rurl=%{REQUEST_URI} [R=301,L,QSA]</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>Apache的Rewrite详解</d></pre>
<pre><d class='s7'><a href='https://www.jianshu.com/p/103742cccaff'>https://www.jianshu.com/p/103742cccaff</a></d></pre>
<pre><d class='s7'>RewriteEngine On</d></pre>
<pre><d class='s7'>RewriteCond %{REQUEST_FILENAME} !-f</d></pre>
<pre><d class='s7'>RewriteCond %{REQUEST_FILENAME} !-d</d></pre>
<pre><d class='s7'>RewriteRule ^(.*)$ index.php/$1 [L]</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>SHA-1: 270317fb00aa561c7536e2c9c6e3e6bc81555155</d></pre>
<pre><d class='s7'>* rewrite test</d></pre>
<pre><d class='s0'></d></pre>
<t id='c15840d9-efca-4eed-ae54-3329e22ecc85'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s11'>main chrome 无法被fiddler抓取，但相同的exe，换了user-data目录，却可以</d><d class='s12'></d></pre>
</t>
<pre><d class='s0'></d></pre>
<t id='9eb351c3-4d96-4183-a624-790d668e9df1'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s11'>当访问a.html，服务器经过多重301返回b.html后，再次访问a.html，chrome会直接访问b.html</d></pre>
<pre><d class='s11'>多次301，即使console中选中了"preserve log"，仍然看不到重定向的具体过程，此时可以借助fiddler查看</d><d class='s0'></d></pre>
</t>
<pre><d class='s0'></d><d class='s7'></d></pre>
<pre><d class='s9'><h2 id='ol_6'>ERR_TOO_MANY_REDIRECTS</h2>
</d><d class='s13'>SHA-1: 5d3270dd585171988e11b360ad404b64d3b74221</d></pre>
<pre><d class='s7'>访问任意路径即可重现，eg：http://localhost:333</d></pre>
<pre><d class='s0'></d></pre>
<pre><d class='s0'><h2 id='ol_7'>RewriteCond</h2>
<a href='http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html#rewritecond'>http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html#rewritecond</a></d></pre>
<pre><d class='s0'></d></pre>
<pre><d class='s8'>RewriteCond TestString CondPattern [flags]</d></pre>
<pre><d class='s0'></d></pre>
<pre><d class='s12'>先match rule的pattern:</d><d class='s0'></d></pre>
<pre><d class='s12'>applying pattern '^/$' to uri '/'</d></pre>
<pre><d class='s12'>RewriteCond: input='::1' pattern='aa' =&gt; not-matched</d></pre>
<pre><d class='s12'></d></pre>
<pre><d class='s12'>%{ENV:variable}</d></pre>
<pre><d class='s12'></d></pre>
<pre><d class='s12'>CondPattern is usually a perl compatible regular expression, but there is additional syntax available to perform other useful tests against the Teststring:</d></pre>
<pre><d class='s12'></d></pre>
<pre><d class='s12'>1. ! exclamation mark</d></pre>
<pre><d class='s0'></d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<t id='3d8bd44e-731f-4fc3-bc60-02d2b5685888'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s1'><h1 id='ol_8'>apache不以service形式启动</h1>
</d><d class='s4'>为了能够启动UI程序</d><d class='s1'></d></pre>
<pre><d class='s3'><a href='sqlite_locate_failed!'>cstart </a></d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s5'>D:\Apache24\httpd_start8099.bat # 需要到所在目录下执行</d></pre>
<pre><d class='s5'>DocumentRoot "X:/piaojuke/code/pjkit"</d></pre>
<pre><d class='s5'>X:\piaojuke\code\pjkit\tools\system.php</d><d class='s3'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>eg:</d></pre>
<pre><d class='s3'>system('c:/cstart.exe "C:/Program Files (x86)/Beyond Compare/BCompare.exe" C:/Users/Administrator/Desktop/test/cmp1.txt "C:/Users/Administrator/Desktop/test/cmp2 - 副本.txt"');</d></pre>
<pre><d class='s2'></d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<t id='1c409aef-1779-457d-97b2-9aadb4187b50'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s1'><h1 id='ol_9'>apache以service形式启动</h1>
<a href='sqlite_locate_failed!'>services </a></d><d class='s3'></d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s2'>D:\zentao\xampp\services\install.bat</d><d class='s1'></d></pre>
<pre><d class='s10'>..\apache\bin\httpd -k install -n apachezt</d><d class='s2'></d></pre>
<pre><d class='s2'>然后:</d></pre>
<pre><d class='s2'>net start apachezt</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s2'>uninstall：</d></pre>
<pre><d class='s2'>..\apache\bin\httpd -k uninstall -n apachezt</d></pre>
</t>
<pre><d class='s0'></d><d class='s2'></d></pre>
<pre><d class='s1'><h1 id='ol_10'>apache http server && tomcat</h1>
</d><d class='s3'>apache http server 和 tomcat是什么关系</d></pre>
<pre><d class='s3'><a href='http://zhidao.baidu.com/link?url=uaxUmYDcHvpe5r_eENy90CPuJiN30M3nM-h_zPe5c3ePmDxobHIbIBsI5lBvYre6aBrVVOWE1kJbOnSZGYymPK'>http://zhidao.baidu.com/link?url=uaxUmYDcHvpe5r_eENy90CPuJiN30M3nM-h_zPe5c3ePmDxobHIbIBsI5lBvYre6aBrVVOWE1kJbOnSZGYymPK</a></d></pre>
<pre><d class='s3'>apache http server 是 http 的 web 服务器 用户响应页面请求，tomcat只是一个jsp和servet的容器，提供了环境让应用程序在里面执行。之所以只安装tomcat也可以响应web应用，是因为本身集成了http服务。既然 Tomcat 本身已经可以提供这样的服务，我们为什么还要引入 Apache 或者其他的一些专门的 HTTP </d></pre>
<pre><d class='s3'>服务器呢？原因有下面几个：</d></pre>
<pre><d class='s3'>1. 提升对静态文件的处理性能</d></pre>
<pre><d class='s3'>2. 利用 Web 服务器来做负载均衡以及容错</d></pre>
<pre><d class='s3'>3. 无缝的升级应用程序</d></pre>
<pre><d class='s3'>这三点对一个 web 网站来说是非常之重要的，我们希望我们的网站不仅是速度快，而且要稳定，不能因为某个 Tomcat </d></pre>
<pre><d class='s3'>宕机或者是升级程序导致用户访问不了，而能完成这几个功能的、最好的 HTTP 服务器也就只有 apache 的 http server搜索</d></pre>
<pre><d class='s3'>了，它跟 tomcat 的结合是最紧密和可靠的。</d></pre>
<pre><d class='s3'>还有 apache http server 要比 tomcat 早且tomcat 是apache 的一部分。</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>Apache HTTP Server 与 Tomcat 的三种连接方式介绍</d></pre>
<pre><d class='s3'><a href='http://www.ibm.com/developerworks/cn/opensource/os-lo-apache-tomcat/'>http://www.ibm.com/developerworks/cn/opensource/os-lo-apache-tomcat/</a></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>Apache http Server与Tomcat整合</d></pre>
<pre><d class='s3'><a href='http://blog.chinaunix.net/uid-11898547-id-2802954.html'>http://blog.chinaunix.net/uid-11898547-id-2802954.html</a></d></pre>
<pre><d class='s0'></d></pre>
<t id='94e9ccd9-532b-4899-a2ec-1bffd3a1d21d'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s9'><h1 id='ol_11'>apache php 整合；调试 debug</h1>
</d><d class='s4'></d></pre>
<pre><d class='s4'>E:\software\rptable\php_调试</d><d class='s3'></d></pre>
<pre><d class='s3'><a href='sqlite_locate_failed!'>phpstorm; php debug/调试 </a></d></pre>
<pre><d class='s3'><a href='sqlite_locate_failed!'>phpstorm debugging 2; 调试 分析 </a></d></pre>
<pre><d class='s9'></d></pre>
<pre><d class='s3'>这两个是已经整合的例子：</d></pre>
<pre><d class='s3'><a href='zentao.html#0d2536ee-35e0-4e9f-8156-9c40f98471bb'>zentao sum </a></d></pre>
<pre><d class='s3'> <a href='zentao.html#190e3d5d-f809-41b8-b975-6d8d9fc30a5a'>使用phpstorm调试zentao </a></d></pre>
<pre><d class='s3'><a href='xampp.html#7677ff9f-36d1-4159-b4d7-66fa9a9ec363'>XAMPP </a></d><d class='s5'></d></pre>
<pre><d class='s9'></d></pre>
<pre><d class='s5'>注意，php/apache use differrent crt</d><d class='s3'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>D:\Apache24</d></pre>
<pre><d class='s3'>D:\php</d></pre>
<pre><d class='s5'>环境变量的问题：D:\php\ext 这个路径已经在php.ini中的extension_dir中配置，但为了防止dll劫持发生，最好还是配置在path中：</d><d class='s3'></d></pre>
<pre><d class='s3'>set path=D:\php;D:\php\ext;%path%</d></pre>
<pre><d class='s3'>bin\httpd</d></pre>
<pre><d class='s9'></d></pre>
<pre><d class='s9'>---------------------------------</d></pre>
<pre><d class='s9'></d></pre>
<pre><d class='s8'>使用官方下载原始文件自己整合：</d></pre>
<pre><d class='s3'>php5.5 + apache2.4 安装配置</d></pre>
<pre><d class='s3'><a href='http://jingyan.baidu.com/article/fcb5aff797ec41edaa4a71c4.html'>http://jingyan.baidu.com/article/fcb5aff797ec41edaa4a71c4.html</a></d></pre>
<pre><d class='s3'>see enote</d></pre>
<pre><d class='s3'>下载 解压</d></pre>
<pre><d class='s3'>vc_redist.x64_Visual C++ 2015 Redistributable Update 3.exe</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s6'>通过phpinfo()检查php是否正常工作。</d><d class='s3'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>配置比较:</d></pre>
<pre><d class='s3'>D:\php\php.ini-development</d></pre>
<pre><d class='s3'>D:\php\php.ini</d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>PHP+Apache+Mysql环境搭建教程</d></pre>
<pre><d class='s3'><a href='http://www.jb51.net/article/89581.htm'>http://www.jb51.net/article/89581.htm</a></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>sh: phpstorm apache调试</d></pre>
<pre><d class='s3'><a href='http://www.cnblogs.com/caicaizi/p/5885925.html'>http://www.cnblogs.com/caicaizi/p/5885925.html</a></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s9'><h1 id='ol_12'>apache如何处理php请求?</h1>
</d><d class='s5'>apache进程（httpd）启动后会加载php5apache*.dll，即http server直接就处理了php请求。这与iis的将请求转交给php进程处理的方式（cgi or fast-cgi）是有区别的。</d><d class='s3'></d></pre>
<pre><d class='s3'></d></pre>
<pre><d class='s3'>appache的php执行在第二个httpd中</d></pre>
<pre><d class='s3'><img src='pic\ab65a273f60b43e037a04d7e843a3779.jpg' /></d><d class='s3'></d></pre>
</t>
<pre><d class='s0'></d><d class='s3'></d></pre>
<t id='11b9f11c-09f1-48ac-9ea7-0f1e76ad3579'>
<pre><d class='s0'></d><d class='s0'></d></pre>
<pre><d class='s9'><h1 id='ol_13'>Apache VirtualHost配置</h1>
<a href='http://blog.csdn.net/forest_fire/article/details/50944368'>http://blog.csdn.net/forest_fire/article/details/50944368</a></d><d class='s3'></d></pre>
<pre><d class='s13'>SHA-1: 65c6933e9a497e393e06032e5cc45d38113469c0</d></pre>
<pre><d class='s13'>* VirtualHost test</d><d class='s3'></d></pre>
</t>
<pre><d class='s0'></d><d class='s7'></d></pre>
<pre><d class='s9'><h1 id='ol_14'>apache log</h1>
</d><d class='s7'>Log Files</d><d class='s9'></d></pre>
<pre><d class='s9'><a href='http://httpd.apache.org/docs/2.4/en/logs.html'>http://httpd.apache.org/docs/2.4/en/logs.html</a></d><d class='s7'></d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'><a href='http://httpd.apache.org/docs/2.4/en/mod/mod_log_config.html'>http://httpd.apache.org/docs/2.4/en/mod/mod_log_config.html</a></d></pre>
<pre><d class='s7'>&lt;IfModule log_config_module&gt;</d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    # The following directives define some format nicknames for use with</d></pre>
<pre><d class='s7'>    # a CustomLog directive (see below).</d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{</d><d class='s8'>Referer</d><d class='s7'>}i\" \"%{</d><d class='s8'>User-Agent</d><d class='s7'>}i\"" combined</d></pre>
<pre><d class='s7'>    LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>    &lt;IfModule logio_module&gt;</d></pre>
<pre><d class='s7'>      # You need to enable mod_logio.c to use %I and %O</d></pre>
<pre><d class='s7'>      LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio</d></pre>
<pre><d class='s7'>    &lt;/IfModule&gt;</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    # The location and format of the access logfile (Common Logfile Format).</d></pre>
<pre><d class='s7'>    # If you do not define any access logfiles within a &lt;VirtualHost&gt;</d></pre>
<pre><d class='s7'>    # container, they will be logged here.  Contrariwise, if you *do*</d></pre>
<pre><d class='s7'>    # define per-&lt;VirtualHost&gt; access logfiles, transactions will be</d></pre>
<pre><d class='s7'>    # logged therein and *not* in this file.</d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    CustomLog "logs/access.log" common</d></pre>
<pre><d class='s7'></d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    # If you prefer a logfile with access, agent, and referer information</d></pre>
<pre><d class='s7'>    # (Combined Logfile Format) you can use the following directive.</d></pre>
<pre><d class='s7'>    #</d></pre>
<pre><d class='s7'>    #CustomLog "logs/access.log" combined</d></pre>
<pre><d class='s7'>&lt;/IfModule&gt;</d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s4'>可以这样同时写入多个log文件:</d></pre>
<pre><d class='s7'>CustomLog "logs/access.log" common</d></pre>
<pre><d class='s7'>CustomLog "logs/access2.log" combined</d></pre>
<pre><d class='s1'></d></pre>
<pre><d class='s9'><h2 id='ol_15'>ErrorLog</h2>
<a href='http://httpd.apache.org/docs/current/mod/core.html#errorlogformat'>http://httpd.apache.org/docs/current/mod/core.html#errorlogformat</a></d><d class='s1'></d></pre>
<pre><d class='s1'><a href='http://httpd.apache.org/docs/current/logs.html#errorlog'>http://httpd.apache.org/docs/current/logs.html#errorlog</a></d></pre>
<pre><d class='s1'>只显示message</d><d class='s2'></d></pre>
<pre><d class='s2'>ErrorLog "logs/error.log"</d></pre>
<pre><d class='s2'>ErrorLogFormat "++ %M"</d></pre>
<pre><d class='s2'></d></pre>
<pre><d class='s1'><h1 id='ol_16'>apache 关闭 shutdown</h1>
</d><d class='s7'>D:\Apache24_test\apache_test.bat httpd 强制关闭，但不会收到shutdown signal</d></pre>
<pre><d class='s2'></d></pre>
</body></html>
